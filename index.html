<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Thiá»‡p Má»i Lá»… CÆ°á»›i</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ===== BASE ===== */
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(to bottom,#fdf6f0,#fff);
  text-align:center;
  overflow-x:hidden;
}

/* ===== OPEN ===== */
#openScreen{
  position:fixed;
  inset:0;
  background:linear-gradient(to bottom,#9b3c3c,#6e1f1f);
  color:#fff;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:999;
  transition:.6s;
}
#openScreen button{
  padding:14px 30px;
  border-radius:30px;
  border:none;
  font-size:18px;
}

/* ===== INTRO ===== */
.intro{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  opacity:0;
  transition:opacity 1s;
  z-index:900;
}
.intro.show{opacity:1}
.intro img{
  width:85%;
  max-width:420px;
  border-radius:20px;
  opacity:0;
  transform:scale(1.05);
  transition:1.2s;
}
.intro.show img{
  opacity:1;
  transform:scale(1);
}
#introText{
  margin-top:20px;
  color:#fff;
  font-size:20px;
  font-style:italic;
  opacity:0;
  transition:1s;
}

/* ===== CONTENT ===== */
.container{
  max-width:650px;
  margin:auto;
  padding:30px 20px;
  display:none;
  animation:fadeZoom 1s;
}
@keyframes fadeZoom{
  from{opacity:0;transform:scale(.97)}
  to{opacity:1;transform:scale(1)}
}

.card{
  background:rgba(255,255,255,.85);
  border-radius:18px;
  padding:22px;
  margin:22px 0;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}

/* ===== BUTTON ===== */
.btn{
  display:inline-block;
  padding:12px 26px;
  border-radius:30px;
  background:#9b3c3c;
  color:#fff;
  text-decoration:none;
  margin:8px;
}

/* ===== ALBUM ===== */
.album-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
  margin-top:20px;
}
.album-grid img{
  width:100%;
  aspect-ratio: 3 / 4;
  object-fit: cover;
  image-rendering: auto;
}

.album-grid img:hover{
  transform:scale(1.06);
}

@media(max-width:600px){
  .album-grid{grid-template-columns:repeat(2,1fr)}
}

/* ===== LIGHTBOX ===== */
#lightbox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:3000;
}
#lightbox img{
  max-width:92%;
  max-height:92%;
  border-radius:20px;
}

/* ===== FLOWER (NHáº¸) ===== */
.flower{
  position:fixed;
  top:-30px;
  pointer-events:none;
  animation:fall linear forwards;
}
@keyframes fall{
  to{transform:translateY(110vh);opacity:0}
}
/* ===== FIX NÃšT LIGHTBOX ===== */
.lb-close,.lb-prev,.lb-next{
  position:absolute;
  color:white;
  font-size:36px;
  z-index:3100;
  cursor:pointer;
  user-select:none;
}
.lb-close{top:18px;right:22px}
.lb-prev{left:14px}
.lb-next{right:14px}

</style>
</head>
<body>
  <!-- LIGHTBOX PRO -->
<div id="lightbox">
  <span class="lb-close" onclick="closeLightbox()">âœ•</span>
  <span class="lb-prev" onclick="prevImg()">â®</span>
  <img id="lightboxImg">
  <span class="lb-next" onclick="nextImg()">â¯</span>
</div>
<!-- MUSIC CONTROL -->
<div id="musicBtn" onclick="toggleMusic()">ğŸ”‡</div>

<!-- RSVP Popup -->
<div id="rsvpPopup">Cáº£m Æ¡n báº¡n!</div>

<!-- OPEN SCREEN --><!-- INTRO STORY -->
<div class="intro" id="intro">
  <img id="introImg" src="">
  <div id="introText"></div>
</div>
<div id="openScreen" onclick="openInvite()">
  <div style="font-size:42px">âœï¸</div>
  <h2>Thiá»‡p Má»i Chung Vui</h2>
  <h1>HoÃ ng Anh & Pháº¡m Nguyá»‡t</h1>
  <p style="opacity:.8">ğŸ‘† Cháº¡m Ä‘á»ƒ má»Ÿ thiá»‡p</p>
</div>


<!-- MUSIC -->
<audio id="music" loop preload="auto">
  <source src="i-do.mp3.mp3" type="audio/mpeg">
</audio>

<!-- MAIN CONTENT -->
<div class="container" id="main">
<div class="cross">âœï¸</div>
<h2>TrÃ¢n Trá»ng KÃ­nh Má»i QuÃ½ KhÃ¡ch</h2>
  <h2>Äáº¿n Tham Dá»± ÄÃ¡m CÆ°á»›i Cá»§a </h2>
<h1>HoÃ ng Anh & Pháº¡m Nguyá»‡t</h1>
<div class="divider"></div>
<div class="scripture">â€œSá»± gÃ¬ ThiÃªn ChÃºa Ä‘Ã£ káº¿t há»£p, loÃ i ngÆ°á»i khÃ´ng Ä‘Æ°á»£c phÃ¢n ly.â€ (Mt 19,6)</div>

<!-- CÃ” DÃ‚U & CHÃš Rá»‚ -->
<div style="display:flex; justify-content:center; gap:20px; margin-top:25px;">
  <div><img src="chu-re.jpg" alt="ChÃº rá»ƒ HoÃ ng Anh" style="width:120px; border-radius:50%;"><p><b>ChÃº rá»ƒ<br>HoÃ ng Anh</b></p></div>
  <div><img src="0B9A3041.jpeg" alt="CÃ´ dÃ¢u Pháº¡m Nguyá»‡t" style="width:120px; border-radius:50%;"><p><b>CÃ´ dÃ¢u<br>Pháº¡m Nguyá»‡t</b></p></div>
</div>

<!-- SONG THÃ‚N -->
<div style="display:flex;gap:20px;justify-content:space-between;font-size:15px;margin:30px 0;">
  <div style="width:48%;"><b>Song thÃ¢n ChÃº Rá»ƒ</b><br>Ã”ng:Äáº·ng Há»¯u ÄÆ°Æ¡ng (+)<br>BÃ : Nguyá»…n Thá»‹ Quang</div>
  <div style="width:48%;"><b>Song thÃ¢n CÃ´ DÃ¢u</b><br>Ã”ng: Pháº¡m VÄƒn Niá»‡m<br>BÃ : Nguyá»…n Thá»‹ HiÃªn</div>
</div>

<!-- ALBUM -->
<h2>ğŸ“· Khoáº£nh Kháº¯c Háº¡nh PhÃºc</h2>

<div class="album-grid">
  <img src="DSC03092.jpeg" onclick="openLightboxByIndex(0)">
<img src="album2.jpg" onclick="openLightboxByIndex(1)">
<img src="0B9A2754.jpeg" onclick="openLightboxByIndex(2)">
<img src="0B9A2930.jpeg" onclick="openLightboxByIndex(3)">
<img src="0B9A3041.jpeg" onclick="openLightboxByIndex(4)">
<img src="19.png" onclick="openLightboxByIndex(5)">
</div>

<!-- Lá»„ -->
<h2>âœï¸ Lá»… ThÃ nh HÃ´n</h2>
<div class="card">
ğŸ—“ <b>Thá»© Báº£y â€“ 11/02/2026</b><br>
â° <b>15:30</b><br>
â›ª <b>NhÃ  thá» GiÃ¡o Xá»© PhÃºc ThÃ nh</b><br>
ğŸ“ Nam Dong, CÆ° Jut, LÃ¢m Äá»“ng<br>
<div id="countdown">â³ Äang tÃ­nh thá»i gianâ€¦</div>
<a class="btn" target="_blank" href="https://maps.app.goo.gl/vDDYBfEG5AXxQDLs7?g_st=ipc">ğŸ§­ Chá»‰ Ä‘Æ°á»ng NhÃ  Thá»</a><br>
<a class="btn blue" target="_blank" href="https://www.google.com/calendar">ğŸ“… ThÃªm vÃ o Google Calendar</a>
</div>

<!-- TIá»†C -->
<h2>ğŸ½ï¸ Tiá»‡c NhÃ  GÃ¡i</h2>
<div class="card">
ğŸ—“ <b>Thá»© Báº£y â€“ 12/02/2026</b><br>
â° <b>11:00</b><br>
ğŸ“ TÆ° gia NhÃ  GÃ¡i<br>
<a class="btn" target="_blank" href="https://maps.app.goo.gl/imNfpARbGWWLFwrKA?g_st=ipc">ğŸ§­ Chá»‰ Ä‘Æ°á»ng</a><br>
<a class="btn blue" target="_blank" href="https://www.google.com/calendar">ğŸ“… ThÃªm vÃ o Google Calendar</a>
</div>

<h2>ğŸ½ï¸ Tiá»‡c NhÃ  Trai</h2>
<div class="card">
ğŸ—“ <b>Thá»© SÃ¡u â€“ 13/02/2026</b><br>
â° <b>11:00</b><br>
ğŸ“ TÆ° gia NhÃ  Trai<br>
<a class="btn" target="_blank" href="https://maps.app.goo.gl/2XV3Rx7Tr8DZPFSn7?g_st=ipc">ğŸ§­ Chá»‰ Ä‘Æ°á»ng</a><br>
<a class="btn blue" target="_blank" href="https://www.google.com/calendar">ğŸ“… ThÃªm vÃ o Google Calendar</a>
</div>

<!-- RSVP -->
<h2>ğŸ“© XÃ¡c Nháº­n Tham Dá»±</h2>
<div class="card" id="rsvpCard">
<form onsubmit="sendRSVP(event)">
<input id="rsvpName" placeholder="TÃªn cá»§a báº¡n" required>
<select id="rsvpStatus" required onchange="changeRSVPStyle()">
<option value="">â€” Vui lÃ²ng chá»n â€”</option>
<option value="yes">âœ… Tham dá»±</option>
<option value="no">âŒ KhÃ´ng tham dá»±</option>
</select>
<div class="rsvp-note" id="prayNote">ğŸ™ Xin hiá»‡p lá»i cáº§u nguyá»‡n vÃ  chÃºc phÃºc cho chÃºng con.</div>
<button class="btn">Gá»­i pháº£n há»“i</button>
</form>
<p style="margin-top:15px;font-weight:bold">ğŸ‘¥ Tham dá»±: <span id="yesCount">0</span> | âŒ KhÃ´ng tham dá»±: <span id="noCount">0</span></p>
<div id="rsvpList" style="font-size:14px;margin-top:10px"></div>
</div>

<!-- Lá»œI CHÃšC -->
<h2>ğŸ’Œ Gá»­i Lá»i ChÃºc</h2>
<form onsubmit="sendWish(event)">
<input id="wishName" placeholder="TÃªn cá»§a báº¡n" required>
<textarea id="wishText" placeholder="Lá»i chÃºc" required></textarea>
<button class="btn">Gá»­i</button>
</form>
<div id="wishList"></div>

<!-- QR -->
<h2>ğŸ’³ Má»«ng CÆ°á»›i</h2>
<button class="btn" onclick="toggleQR()">ğŸ“± Hiá»‡n / áº¨n QR</button>
<div id="qrBox" style="display:none"><img src="qr-stk.jpg" alt="QR Má»«ng CÆ°á»›i" style="width:220px;border-radius:15px"></div>

<footer style="margin:40px 0;color:#777">â€œXin ThiÃªn ChÃºa chÃºc lÃ nh cho tÃ¬nh yÃªu cá»§a chÃºng conâ€</footer>
</div>

<script>
  const musicBtn = document.getElementById("musicBtn");
  const music = document.getElementById("music");
  let musicStarted = false;

function toggleMusic(){
  if(!musicStarted){
    music.play();
    musicStarted = true;
    musicBtn.innerText = "ğŸ”Š";
  }else if(music.paused){
    music.play();
    musicBtn.innerText = "ğŸ”Š";
  }else{
    music.pause();
    musicBtn.innerText = "ğŸ”‡";
  }
}

// ------------------- RSVP -------------------
const rsvpCard=document.getElementById("rsvpCard"),
      rsvpStatus=document.getElementById("rsvpStatus"),
      prayNote=document.getElementById("prayNote"),
      rsvpName=document.getElementById("rsvpName"),
      rsvpListEl=document.getElementById("rsvpList"),
      yesCountEl=document.getElementById("yesCount"),
      noCountEl=document.getElementById("noCount");
let rsvpData=JSON.parse(localStorage.getItem("rsvpData")||"[]");

function renderRSVP(){
  rsvpListEl.innerHTML="";
  let yes=0,no=0;
  rsvpData.forEach(r=>{
    const div=document.createElement("div");
    div.style.borderBottom="1px dashed #ccc"; div.style.padding="6px 0";
    div.innerHTML=`<b>${r.name}</b> â€“ ${r.status==="yes"?"âœ… Tham dá»±":"âŒ KhÃ´ng tham dá»±"}`;
    rsvpListEl.appendChild(div);
    r.status==="yes"?yes++:no++;
  });
  yesCountEl.innerText=yes; noCountEl.innerText=no;
}

function changeRSVPStyle(){
  if(rsvpStatus.value==="no"){rsvpCard.classList.add("rsvp-no");prayNote.style.display="block";}
  else{rsvpCard.classList.remove("rsvp-no");prayNote.style.display="none";}
}

function showPopup(msg,color="#3c6e9b"){
  const popup=document.getElementById("rsvpPopup");
  popup.innerText=msg; popup.style.background=color;
  popup.style.display="block";setTimeout(()=>{popup.style.opacity=1;},10);
  setTimeout(()=>{popup.style.opacity=0;setTimeout(()=>popup.style.display="none",300);},2000);
}

function sendRSVP(e){
  e.preventDefault();
  const status=rsvpStatus.value;
  rsvpData.unshift({name:rsvpName.value,status:status});
  localStorage.setItem("rsvpData",JSON.stringify(rsvpData));
  renderRSVP();
  e.target.reset();
  changeRSVPStyle();
  if(status==="yes"){
    showPopup("âœ… Cáº£m Æ¡n báº¡n Ä‘Ã£ xÃ¡c nháº­n!","#3c6e9b");
  }else{
    showPopup("âŒ Báº¡n khÃ´ng tham dá»±","#888");
  }
}

// ------------------- OPEN SCREEN + INTRO -------------------

const story=[
  {img:"DSC02482.jpeg",text:"Tá»« láº§n gáº·p gá»¡ Ä‘áº§u tiÃªnâ€¦"},
  {img:"DSC02840.jpeg",text:"Hai trÃ¡i tim chung nhá»‹p Ä‘áº­pâ€¦"},
  {img:"DSC02992.jpeg",text:"VÃ  hÃ´m nayâ€¦"},
  {img:"love4.jpg",text:"ChÃºng con nÃªn duyÃªn vá»£ chá»“ng ğŸ’"}
];

function openInvite(){
  // PHÃT NHáº C NGAY SAU CLICK
  music.volume = 0.7;
  music.currentTime = 0;
  music.play().then(()=>{
    musicStarted = true;
    musicBtn.innerText = "ğŸ”Š";
  }).catch(()=>{});

  // HIá»†U á»¨NG Má» THIá»†P
  openScreen.style.opacity = "0";
  setTimeout(()=>{
    openScreen.style.display = "none";
    intro.classList.add("show");
    playStory(0);
  },600);
}


function playStory(i){
  if(i >= story.length){
    intro.classList.remove("show");
    setTimeout(()=>{
      intro.style.display = "none";
      main.style.display = "block";
    },600);
    return;
  }

  introImg.style.opacity = 0;
  introImg.style.transform = "scale(1.05)";
  introText.style.opacity = 0;

  setTimeout(()=>{
    introImg.src = story[i].img;
    introText.innerText = story[i].text;

    introImg.style.opacity = 1;
    introImg.style.transform = "scale(1)";
    introText.style.opacity = 1;
  },200);

  setTimeout(()=>{
    playStory(i + 1);
  },3500);
  }
// ------------------- COUNTDOWN (UTC+7) -------------------
const countdown=document.getElementById("countdown");
const weddingTime=new Date("2026-02-14T17:30:00+07:00").getTime();
setInterval(()=>{
  const d=weddingTime-Date.now();
  if(d<=0){countdown.innerHTML="ğŸ‰ Lá»… cÆ°á»›i Ä‘Ã£ báº¯t Ä‘áº§u"; return;}
  const days=Math.floor(d/86400000),
        h=Math.floor(d%86400000/3600000),
        m=Math.floor(d%3600000/60000),
        s=Math.floor(d%60000/1000);
  countdown.innerHTML=`â³ CÃ²n ${days} ngÃ y ${h} giá» ${m} phÃºt ${s} giÃ¢y`;
},1000);

// ------------------- WISHES -------------------
const wishList=document.getElementById("wishList"),
      wishName=document.getElementById("wishName"),
      wishText=document.getElementById("wishText");
function sendWish(e){e.preventDefault();
  const div=document.createElement("div");
  div.innerHTML=`<b>${wishName.value}</b>: ${wishText.value}`;
  wishList.prepend(div);
  e.target.reset();
}



  // ------------------- QR -------------------
function toggleQR(){
  const qrBox = document.getElementById("qrBox");
  qrBox.style.display = qrBox.style.display==="none" ? "block" : "none";
}

// ------------------- FLOWERS -------------------
const flowers=["ğŸŒ¸","ğŸ’®","ğŸŒº"];

setInterval(()=>{
  if(document.hidden) return; // khÃ´ng táº¡o khi tab áº©n
  const f=document.createElement("div");
  f.className="flower";
  f.textContent=["ğŸŒ¸","ğŸ’®","ğŸŒº"][Math.random()*3|0];
  f.style.left=Math.random()*100+"vw";
  f.style.fontSize=14+Math.random()*10+"px";
  f.style.animationDuration=10+Math.random()*6+"s";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),16000);
},1800);

const albumImgs = Array.from(document.querySelectorAll(".album-grid img"));
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightboxImg");
let currentIndex = 0;

function openLightboxByIndex(index){
  currentIndex = index;
  lightboxImg.src = albumImgs[currentIndex].src;
  lightbox.style.display = "flex";
}

function closeLightbox(){
  lightbox.style.display = "none";
}

function nextImg(){
  currentIndex = (currentIndex + 1) % albumImgs.length;
  lightboxImg.src = albumImgs[currentIndex].src;
}

function prevImg(){
  currentIndex = (currentIndex - 1 + albumImgs.length) % albumImgs.length;
  lightboxImg.src = albumImgs[currentIndex].src;
}

/* Click ra ngoÃ i Ä‘á»ƒ thoÃ¡t */
lightbox.addEventListener("click",e=>{
  if(e.target === lightbox) closeLightbox();
});

/* Vuá»‘t Ä‘iá»‡n thoáº¡i */
let startX=0;
lightbox.addEventListener("touchstart",e=>{
  startX = e.touches[0].clientX;
});
lightbox.addEventListener("touchend",e=>{
  const diff = e.changedTouches[0].clientX - startX;
  if(diff > 50) prevImg();
  if(diff < -50) nextImg();
});

</script>
</body>
</html>
